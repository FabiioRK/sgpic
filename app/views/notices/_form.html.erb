<% if notice.errors.any? %>
  <div class="alert alert-danger">
    <h4 class="alert-heading"><i class="bi bi-exclamation-circle me-2"></i>Erro(s) ao salvar:</h4>
    <ul class="mb-0">
      <% notice.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with(model: notice, url: notice.persisted? ? notice_path(id: EncryptionService.encrypt(notice.id)) : notices_path, local: true, class: "notice-form mt-4 confirm-save", data: { turbo: false }) do |f| %>
  <div class="row">
    <div class="col-md-6 mb-3">
      <%= f.label :name, required_label(:name, 'notice'), class: "form-label fw-bold" %>
      <%= f.text_field :name, class: "form-control form-control-sm" %>
    </div>

    <div class="col-md-3 mb-3">
      <%= f.label :start_date, required_label(:start_date, 'notice'), class: "form-label fw-bold" %>
      <%= f.date_field :start_date, class: "form-control form-control-sm" %>
    </div>

    <div class="col-md-3 mb-3">
      <%= f.label :end_date, required_label(:end_date, 'notice'), class: "form-label fw-bold" %>
      <%= f.date_field :end_date, class: "form-control form-control-sm" %>
    </div>

    <div class="col-12 mb-3">
      <%= f.label :description, required_label(:description, 'notice'), class: "form-label fw-bold" %>
      <%= f.text_area :description, class: "form-control", rows: 5 %>
    </div>
  </div>

  <div class="form-actions d-flex justify-content-start mt-4">
    <%= link_to notices_path, class: "me-2 btn btn-sm btn-secondary custom-btn" do %>
      <i class="bi bi-arrow-left"></i> Voltar
    <% end %>
    <%= f.submit 'Salvar', class: "btn btn-sm btn-success custom-btn" %>
  </div>
<% end %>
